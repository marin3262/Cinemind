<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineMind | AI ì˜í™” ì¶”ì²œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .active-nav { color: #F59E0B; border-bottom: 2px solid #F59E0B; }
        .nav-link { border-bottom: 2px solid transparent; }
        .carousel::-webkit-scrollbar { display: none; }
        .carousel { -ms-overflow-style: none; scrollbar-width: none; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-neutral-50 text-neutral-800">

    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: ë³¸ SPAëŠ” ì‚¬ìš©ìê°€ ì˜í™” ì •ë³´ë¥¼ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ëª¨ë°”ì¼ ì™€ì´ì–´í”„ë ˆì„ì˜ í•˜ë‹¨ íƒ­ êµ¬ì¡°ë¥¼ ì›¹ì— ì í•©í•œ ìƒë‹¨ ê³ ì • ë‚´ë¹„ê²Œì´ì…˜('í™ˆ', 'ì¶”ì²œ', 'ê²€ìƒ‰')ìœ¼ë¡œ ì¬êµ¬ì„±í•˜ì—¬ ìµìˆ™í•œ ì›¹ ì‚¬ìš© ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤. ê° ë©”ë‰´ í´ë¦­ ì‹œ í•´ë‹¹ ì½˜í…ì¸  ì„¹ì…˜ë§Œ ë™ì ìœ¼ë¡œ í‘œì‹œí•˜ì—¬ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ë¹ ë¥¸ ì „í™˜ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì˜í™” ìƒì„¸ ì •ë³´ëŠ” ë³„ë„ í˜ì´ì§€ê°€ ì•„ë‹Œ ëª¨ë‹¬(Modal) ì°½ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬, ì‚¬ìš©ìê°€ í˜„ì¬ ë³´ê³  ìˆë˜ ëª©ë¡ì˜ ë§¥ë½ì„ ìƒì§€ ì•Šê³  ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•œ í›„ ë‹¤ì‹œ ì›ë˜ í™”ë©´ìœ¼ë¡œ ëŒì•„ì˜¬ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ìì˜ íƒìƒ‰ íë¦„ì„ ëŠì§€ ì•Šê³  ëª°ì…ê°ì„ ìœ ì§€ì‹œí‚¤ëŠ” ë° íš¨ê³¼ì ì…ë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: 
        - ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ìˆœìœ„ -> ëª©í‘œ: ì •ë³´ ì „ë‹¬ -> í‘œí˜„: ìˆœìœ„ê°€ í‘œì‹œëœ ì¹´ë“œ ê·¸ë¦¬ë“œ -> ìƒí˜¸ì‘ìš©: ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ ì—´ê¸° -> ê·¼ê±°: ì‹œê°ì  ê³„ì¸µ êµ¬ì¡°ê°€ ëª…í™•í•˜ê³  íƒìƒ‰ì´ ìš©ì´í•¨ -> ë°©ì‹: Tailwind CSS Grid.
        - ëˆ„ì  ê´€ê° ìˆ˜ -> ëª©í‘œ: ë¹„êµ -> í‘œí˜„: ìˆ˜í‰ ë§‰ëŒ€ ì°¨íŠ¸ -> ìƒí˜¸ì‘ìš©: ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ íˆ´íŒìœ¼ë¡œ ì •í™•í•œ ìˆ˜ì¹˜ í‘œì‹œ -> ê·¼ê±°: ìƒìœ„ ì˜í™”ë“¤ì˜ í¥í–‰ ì„±ì ì„ ì§ê´€ì ìœ¼ë¡œ ë¹„êµí•  ìˆ˜ ìˆìŒ -> ë¼ì´ë¸ŒëŸ¬ë¦¬: Chart.js.
        - ì¶”ì²œ ëª©ë¡ -> ëª©í‘œ: ì •ë¦¬ ë° ì œì•ˆ -> í‘œí˜„: ì£¼ì œë³„ ìˆ˜í‰ ìŠ¤í¬ë¡¤ ìºëŸ¬ì…€ -> ìƒí˜¸ì‘ìš©: ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ ì—´ê¸° -> ê·¼ê±°: ì œí•œëœ ê³µê°„ì— ë§ì€ ì •ë³´ë¥¼ ë‹´ìœ¼ë©´ì„œë„ ì‚¬ìš©ìì˜ í¥ë¯¸ë¥¼ ìœ ë°œí•˜ë©° íƒìƒ‰ì„ ìœ ë„í•¨ -> ë°©ì‹: Tailwind CSS Flexbox.
        - ì˜í™” ìƒì„¸ ì •ë³´ -> ëª©í‘œ: ìƒì„¸ ì •ë³´ ì œê³µ ë° ìƒí˜¸ì‘ìš© -> í‘œí˜„: ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ -> ìƒí˜¸ì‘ìš©: ë‹«ê¸° ë²„íŠ¼, ê¸°ëŠ¥ ë²„íŠ¼(ì°œí•˜ê¸° ë“±) í´ë¦­ -> ê·¼ê±°: í˜ì´ì§€ ì´ë™ ì—†ì´ í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•œ ì±„ë¡œ ê¹Šì´ ìˆëŠ” ì •ë³´ë¥¼ ì œê³µí•¨ -> ë°©ì‹: HTML/CSS, JavaScript.
        - ì˜í™” ê²€ìƒ‰ -> ëª©í‘œ: íƒìƒ‰ -> í‘œí˜„: ì…ë ¥ í•„ë“œ ë° ë™ì  ê²°ê³¼ ëª©ë¡ -> ìƒí˜¸ì‘ìš©: í‚¤ì›Œë“œ ì…ë ¥ ì‹œ ì‹¤ì‹œê°„ í•„í„°ë§ -> ê·¼ê±°: ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì •ë³´ë¥¼ ì¦‰ê°ì ìœ¼ë¡œ ì°¾ì„ ìˆ˜ ìˆëŠ” í‘œì¤€ì ì¸ UX ì œê³µ -> ë°©ì‹: JavaScript.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-20">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-amber-500">
                <i class="fa-solid fa-film mr-2"></i>CineMind
            </div>
            <div class="flex space-x-8 text-lg font-medium text-neutral-600">
                <button id="nav-home" class="nav-link active-nav">ğŸ  í™ˆ</button>
                <button id="nav-recommend" class="nav-link">â­ ì¶”ì²œ</button>
                <button id="nav-search" class="nav-link">ğŸ” ê²€ìƒ‰</button>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <section id="content-home">
            <h1 class="text-3xl font-bold mb-2">ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ìˆœìœ„</h1>
            <p class="text-neutral-500 mb-8">í˜„ì¬ ê·¹ì¥ì—ì„œ ê°€ì¥ ì¸ê¸° ìˆëŠ” ì˜í™”ë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”.</p>
            
            <div class="mb-12">
                <h2 class="text-2xl font-bold text-center mb-4">TOP 3 ëˆ„ì  ê´€ê° ìˆ˜ ë¹„êµ</h2>
                <div class="chart-container">
                    <canvas id="boxOfficeChart"></canvas>
                </div>
            </div>

            <div id="movie-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>
        </section>

        <section id="content-recommend" class="hidden">
            <h1 class="text-3xl font-bold mb-2"><span id="user-name-placeholder"></span>ë‹˜ì„ ìœ„í•œ ë§ì¶¤ ì¶”ì²œ</h1>
            <p class="text-neutral-500 mb-8">AIê°€ íšŒì›ë‹˜ì˜ ì·¨í–¥ì„ ë¶„ì„í•˜ì—¬ ì˜í™”ë¥¼ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.</p>

            <div id="recommend-sections"></div>
        </section>

        <section id="content-search" class="hidden">
            <h1 class="text-3xl font-bold mb-2">ì˜í™” ê²€ìƒ‰</h1>
            <p class="text-neutral-500 mb-8">ì°¾ê³  ì‹¶ì€ ì˜í™” ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            <div class="mb-8">
                <input type="text" id="search-input" class="w-full p-4 border border-neutral-300 rounded-lg text-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="ì˜í™” ì œëª© ê²€ìƒ‰...">
            </div>
            <div id="search-results" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <p id="search-placeholder" class="text-neutral-500 col-span-full text-center py-16">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </section>
    </main>

    <div id="movie-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative animate-fade-in-up">
            <button id="close-modal" class="absolute top-4 right-4 text-neutral-500 hover:text-amber-500 text-3xl z-10">&times;</button>
            <div id="modal-content" class="md:flex">
            </div>
        </div>
    </div>
    
    <div id="toast-message" class="fixed bottom-10 right-10 bg-neutral-800 text-white px-6 py-3 rounded-lg shadow-lg opacity-0 transition-opacity duration-300">
    </div>

    <script>
        const movieData = [
            {
                id: 1, rank: 1, title: 'ë²”ì£„ë„ì‹œ 4', release: '2024.04.24', audience: 11470000,
                rating: 4.2, genre: 'ì•¡ì…˜, ë²”ì£„', runtime: '109ë¶„',
                synopsis: 'ì‹ ì¢… ë§ˆì•½ ì‚¬ê±´ 3ë…„ ë’¤, ê´´ë¬¼í˜•ì‚¬ â€˜ë§ˆì„ë„â€™(ë§ˆë™ì„)ëŠ” ì„œìš¸ ê´‘ìˆ˜ëŒ€ë¡œ ë°œíƒë˜ì–´ ì‚¬ì´ë²„ìˆ˜ì‚¬ëŒ€ì™€ ì „ë‹´íŒ€ì„ ê²°ì„±í•œë‹¤. í•œí¸, í•„ë¦¬í•€ì— ê±°ì ì„ ë‘” ë¶ˆë²• ì˜¨ë¼ì¸ ë„ë°• ì¡°ì§ì„ ìš´ì˜í•˜ëŠ” íŠ¹ìˆ˜ë¶€ëŒ€ ìš©ë³‘ ì¶œì‹ ì˜ ë¹ŒëŸ° â€˜ë°±ì°½ê¸°â€™(ê¹€ë¬´ì—´)ì™€ í•œêµ­ì—ì„œ ë” í° íŒì„ ì§œëŠ” ITì—…ê³„ ì²œì¬ CEO â€˜ì¥ë™ì² â€™(ì´ë™íœ˜)ì„ ì¡ê¸° ìœ„í•´ ë§ˆì„ë„ëŠ” ë” ì»¤ì§„ íŒì—ì„œ ì†Œíƒ• ì‘ì „ì„ í¼ì¹œë‹¤.'
            },
            {
                id: 2, rank: 2, title: 'ê·¸ë…€ê°€ ì£½ì—ˆë‹¤', release: '2024.05.15', audience: 1160000,
                rating: 4.0, genre: 'ë¯¸ìŠ¤í„°ë¦¬, ìŠ¤ë¦´ëŸ¬', runtime: '103ë¶„',
                synopsis: 'ë‚¨ì˜ ì‚¶ì„ í›”ì³ë³´ëŠ” ì•…ì·¨ë¯¸ë¥¼ ê°€ì§„ ê³µì¸ì¤‘ê°œì‚¬ â€˜êµ¬ì •íƒœâ€™. ê´€ì°°í•˜ë˜ SNS ì¸í”Œë£¨ì–¸ì„œ â€˜í•œì†Œë¼â€™ì˜ ì£½ìŒì„ ëª©ê²©í•˜ê³ , ê·¸ë…€ì˜ ì§‘ì— ëª°ë˜ ë“¤ì–´ê°”ë‹¤ê°€ ì‚´ì¸ë²”ìœ¼ë¡œ ëˆ„ëª…ì„ ì“´ë‹¤. êµ¬ì •íƒœëŠ” ìì‹ ì˜ ê²°ë°±ì„ ì¦ëª…í•˜ê¸° ìœ„í•´ í•œì†Œë¼ì˜ ì£¼ë³€ì„ ë’¤ì§€ê¸° ì‹œì‘í•˜ê³ , ì§„ì‹¤ì— ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ ì˜ˆìƒì¹˜ ëª»í•œ ì‚¬ì‹¤ë“¤ì´ ë“œëŸ¬ë‚œë‹¤.'
            },
            {
                id: 3, rank: 3, title: 'ì„¤ê³„ì', release: '2024.05.29', audience: 510000,
                rating: 3.5, genre: 'ë²”ì£„, ìŠ¤ë¦´ëŸ¬', runtime: '99ë¶„',
                synopsis: 'ì²­ë¶€ ì‚´ì¸ì„ ì™„ë²½í•œ ì‚¬ê³ ì‚¬ë¡œ ì¡°ì‘í•˜ëŠ” ì„¤ê³„ì â€˜ì˜ì¼â€™. ê·¸ëŠ” ìƒˆë¡œìš´ ì˜ë¢°ë¥¼ ì²˜ë¦¬í•˜ë˜ ì¤‘ ì˜ˆê¸°ì¹˜ ëª»í•œ ì‚¬ê±´ì— íœ˜ë§ë¦¬ê²Œ ë˜ê³ , ìì‹ ê³¼ í•¨ê»˜ ì¼í•˜ëŠ” íŒ€ì›ë“¤ì„ ì˜ì‹¬í•˜ê¸° ì‹œì‘í•œë‹¤. ì§„ì‹¤ê³¼ ê±°ì§“, ì˜ë¢°ì™€ ê³„íš ì‚¬ì´ì—ì„œ ê·¸ëŠ” ëˆ„êµ¬ë„ ë¯¿ì„ ìˆ˜ ì—†ëŠ” ìƒí™©ì— ë¹ ì§„ë‹¤.'
            },
            {
                id: 4, rank: 4, title: 'ì¸í„°ìŠ¤í…”ë¼', release: '2014.11.06', audience: 10340000,
                rating: 4.9, genre: 'SF, ë“œë¼ë§ˆ', runtime: '169ë¶„',
                synopsis: 'ì„¸ê³„ ê°êµ­ì˜ ì •ë¶€ì™€ ê²½ì œê°€ ì™„ì „íˆ ë¶•ê´´ëœ ë¯¸ë˜ê°€ ë‹¤ê°€ì˜¨ë‹¤. ì§€ë‚œ 20ì„¸ê¸°ì— ë²”í•œ ì˜ëª»ì´ ì „ ì„¸ê³„ì ì¸ ì‹ëŸ‰ ë¶€ì¡±ì„ ë¶ˆëŸ¬ì™”ê³ , NASAë„ í•´ì²´ë˜ì—ˆë‹¤. ì´ë•Œ ì‹œê³µê°„ì— ë¶ˆê°€ì‚¬ì˜í•œ í‹ˆì´ ì—´ë¦¬ê³ , ë‚¨ì€ ìë“¤ì—ê²ŒëŠ” ì´ ê³³ì„ íƒí—˜í•´ ì¸ë¥˜ë¥¼ êµ¬í•´ì•¼ í•˜ëŠ” ì„ë¬´ê°€ ì§€ì›Œì§„ë‹¤.'
            },
            {
                id: 5, rank: 5, title: 'ê¸°ìƒì¶©', release: '2019.05.30', audience: 10310000,
                rating: 4.8, genre: 'ë“œë¼ë§ˆ, ìŠ¤ë¦´ëŸ¬', runtime: '132ë¶„',
                synopsis: 'ì „ì›ë°±ìˆ˜ì¸ â€˜ê¸°íƒâ€™ë„¤ ì¥ë‚¨ â€˜ê¸°ìš°â€™ê°€ ê³ ì•¡ ê³¼ì™¸ ë©´ì ‘ì„ ìœ„í•´ â€˜ë°•ì‚¬ì¥â€™ë„¤ ì§‘ì— ë°œì„ ë“¤ì´ë©´ì„œ ì‹œì‘ë˜ëŠ” ë‘ ê°€ì¡±ì˜ ê±·ì¡ì„ ìˆ˜ ì—†ëŠ” ë§Œë‚¨ì„ ê·¸ë¦° ì´ì•¼ê¸°.'
            },
             {
                id: 6, rank: 6, title: 'ì–´ë°”ì›ƒ íƒ€ì„', release: '2013.12.05', audience: 3450000,
                rating: 4.7, genre: 'ë¡œë§¨ìŠ¤, ì½”ë¯¸ë””', runtime: '123ë¶„',
                synopsis: 'ëª¨íƒœì†”ë¡œ íŒ€ì€ ì„±ì¸ì´ ëœ ë‚ , ì•„ë²„ì§€ë¡œë¶€í„° ë†€ë¼ìš´ ê°€ë¬¸ì˜ ë¹„ë°€ì„ ë“£ê²Œ ëœë‹¤. ë°”ë¡œ ì‹œê°„ì„ ë˜ëŒë¦´ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìˆë‹¤ëŠ” ê²ƒ! ê·¸ê²ƒì´ ì‚¬ì‹¤ì¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ íŒ€ì€ ìˆ˜ì—†ì´ ë˜ëŒì•„ê°€ë©° ì™„ë²½í•œ ì‚¬ë‘ì„ ê¿ˆê¾¼ë‹¤.'
            }
        ];

        const recommendData = [
            {
                title: "íšŒì›ë‹˜ê³¼ ì·¨í–¥ì´ ë¹„ìŠ·í•œ ì‚¬ìš©ìê°€ ë§ì´ ë³¸ ì˜í™”",
                movies: [movieData[4], movieData[3], movieData[5], movieData[1]]
            },
            {
                title: "'ì¸í„°ìŠ¤í…”ë¼'ë¥¼ ì¬ë°Œê²Œ ë³´ì…¨ë‹¤ë©´?",
                movies: [movieData[2], movieData[4], movieData[0], movieData[5]]
            },
            {
                title: "ìš”ì¦˜ ëœ¨ëŠ” ìŠ¤ë¦´ëŸ¬ ì˜í™”",
                movies: [movieData[1], movieData[2], movieData[4], movieData[0]]
            }
        ];
        
        const userName = "ì •ê·œì² ";

        const navButtons = {
            home: document.getElementById('nav-home'),
            recommend: document.getElementById('nav-recommend'),
            search: document.getElementById('nav-search'),
        };

        const contentSections = {
            home: document.getElementById('content-home'),
            recommend: document.getElementById('content-recommend'),
            search: document.getElementById('content-search'),
        };

        const movieListEl = document.getElementById('movie-list');
        const recommendSectionsEl = document.getElementById('recommend-sections');
        const searchInput = document.getElementById('search-input');
        const searchResultsEl = document.getElementById('search-results');
        const searchPlaceholder = document.getElementById('search-placeholder');

        const modal = document.getElementById('movie-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const modalContentEl = document.getElementById('modal-content');
        const toastMessageEl = document.getElementById('toast-message');

        function showToast(message) {
            toastMessageEl.textContent = message;
            toastMessageEl.classList.remove('opacity-0');
            setTimeout(() => {
                toastMessageEl.classList.add('opacity-0');
            }, 2000);
        }

        function createMovieCard(movie) {
            return `
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer movie-card" data-movie-id="${movie.id}">
                    <div class="md:flex">
                        <div class="md:flex-shrink-0 md:w-48">
                            <div class="h-48 w-full object-cover md:h-full bg-neutral-200 flex items-center justify-center text-neutral-500">
                                ì˜í™”í¬ìŠ¤í„°
                            </div>
                        </div>
                        <div class="p-8 flex flex-col justify-center">
                            <div class="uppercase tracking-wide text-sm text-amber-500 font-semibold">RANK ${movie.rank}</div>
                            <h2 class="block mt-1 text-2xl leading-tight font-bold text-black break-keep">${movie.title}</h2>
                            <div class="mt-4 text-neutral-500 space-y-1">
                                <p><strong>ê°œë´‰ì¼:</strong> ${movie.release}</p>
                                <p><strong>ëˆ„ì  ê´€ê°:</strong> ${(movie.audience / 10000).toLocaleString()}ë§Œëª…</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function createRecommendMovieCard(movie) {
            return `
                <div class="flex-shrink-0 w-40 mr-4 movie-card cursor-pointer" data-movie-id="${movie.id}">
                    <div class="w-full h-60 bg-neutral-200 rounded-lg shadow-lg flex items-center justify-center text-neutral-500 hover:scale-105 transition-transform duration-300">
                        ì˜í™”í¬ìŠ¤í„°
                    </div>
                    <h3 class="mt-2 font-semibold text-center truncate">${movie.title}</h3>
                </div>
            `;
        }
        
        function openModal(movie) {
            modalContentEl.innerHTML = `
                <div class="md:w-1/3">
                    <div class="w-full h-full bg-neutral-200 flex items-center justify-center text-neutral-500 rounded-t-2xl md:rounded-l-2xl md:rounded-t-none text-2xl min-h-[400px] md:min-h-0">
                        ì˜í™”í¬ìŠ¤í„°
                    </div>
                </div>
                <div class="md:w-2/3 p-8">
                    <h2 class="text-4xl font-bold mb-2">${movie.title}</h2>
                    <div class="flex items-center text-xl mb-4">
                        <span class="text-amber-500">â­ ${movie.rating}</span>
                    </div>
                    <div class="text-neutral-600 mb-6">
                        <p><strong>ì¥ë¥´:</strong> ${movie.genre}</p>
                        <p><strong>ê°œë´‰ì¼:</strong> ${movie.release}</p>
                        <p><strong>ìƒì˜ ì‹œê°„:</strong> ${movie.runtime}</p>
                    </div>
                    <h3 class="text-xl font-bold mb-2">ì¤„ê±°ë¦¬</h3>
                    <p class="text-neutral-700 leading-relaxed mb-8">${movie.synopsis}</p>
                    <div class="flex space-x-4">
                        <button class="modal-action-btn flex-1 bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-4 rounded-lg transition">â­ í‰ì  ë‚¨ê¸°ê¸°</button>
                        <button class="modal-action-btn flex-1 bg-neutral-200 hover:bg-neutral-300 text-neutral-800 font-bold py-3 px-4 rounded-lg transition">ğŸ—¨ï¸ ë¦¬ë·° ë³´ê¸°</button>
                        <button class="modal-action-btn flex-1 bg-neutral-200 hover:bg-neutral-300 text-neutral-800 font-bold py-3 px-4 rounded-lg transition">ğŸ“¥ ì°œí•˜ê¸°</button>
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';

            document.querySelectorAll('.modal-action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    showToast(`'${e.target.textContent.trim()}' ê¸°ëŠ¥ì€ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.`);
                });
            });
        }

        function renderHome() {
            movieListEl.innerHTML = movieData.map(createMovieCard).join('');
        }

        function renderRecommend() {
            document.getElementById('user-name-placeholder').textContent = userName;
            recommendSectionsEl.innerHTML = recommendData.map(section => `
                <div class="mb-12">
                    <h2 class="text-2xl font-bold mb-4">${section.title}</h2>
                    <div class="flex overflow-x-auto carousel pb-4">
                        ${section.movies.map(createRecommendMovieCard).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        function switchView(view) {
            Object.values(contentSections).forEach(section => section.classList.add('hidden'));
            Object.values(navButtons).forEach(button => button.classList.remove('active-nav'));
            
            contentSections[view].classList.remove('hidden');
            navButtons[view].classList.add('active-nav');
        }

        function handleSearch(query) {
            const lowerCaseQuery = query.toLowerCase();
            const results = movieData.filter(movie => movie.title.toLowerCase().includes(lowerCaseQuery));
            
            if (query.length === 0) {
                searchResultsEl.innerHTML = '';
                searchPlaceholder.classList.remove('hidden');
            } else if (results.length > 0) {
                searchPlaceholder.classList.add('hidden');
                searchResultsEl.innerHTML = results.map(createMovieCard).join('');
            } else {
                searchPlaceholder.classList.add('hidden');
                searchResultsEl.innerHTML = '<p class="text-neutral-500 col-span-full text-center py-16">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            }
        }
        
        navButtons.home.addEventListener('click', () => switchView('home'));
        navButtons.recommend.addEventListener('click', () => switchView('recommend'));
        navButtons.search.addEventListener('click', () => switchView('search'));

        closeModalBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        document.addEventListener('click', (e) => {
            const card = e.target.closest('.movie-card');
            if (card) {
                const movieId = parseInt(card.dataset.movieId, 10);
                const movie = movieData.find(m => m.id === movieId);
                if (movie) {
                    openModal(movie);
                }
            }
        });

        searchInput.addEventListener('keyup', (e) => {
            handleSearch(e.target.value);
        });

        function createChart() {
            const ctx = document.getElementById('boxOfficeChart').getContext('2d');
            const topMovies = movieData.slice(0, 3);
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: topMovies.map(m => m.title),
                    datasets: [{
                        label: 'ëˆ„ì  ê´€ê° ìˆ˜ (ë§Œ ëª…)',
                        data: topMovies.map(m => m.audience / 10000),
                        backgroundColor: [
                            'rgba(245, 158, 11, 0.6)',
                            'rgba(168, 162, 158, 0.6)',
                            'rgba(205, 152, 102, 0.6)'
                        ],
                        borderColor: [
                            'rgba(245, 158, 11, 1)',
                            'rgba(168, 162, 158, 1)',
                            'rgba(205, 152, 102, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.x !== null) {
                                        label += context.parsed.x.toLocaleString() + 'ë§Œ ëª…';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ëˆ„ì  ê´€ê° ìˆ˜ (ë§Œ ëª…)'
                            }
                        }
                    }
                }
            });
        }
        
        window.addEventListener('DOMContentLoaded', () => {
            renderHome();
            renderRecommend();
            createChart();
            switchView('home');
        });
    </script>

</body>
</html>

